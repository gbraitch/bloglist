{"version":3,"sources":["components/Blog.js","components/Notification.js","services/blogs.js","components/Toggleable.js","components/BlogForm.js","services/login.js","components/LoginForm.js","App.js","index.js"],"names":["Blog","num","blog","addLike","removeBlog","user","Accordion","className","Card","Header","Toggle","as","Button","variant","eventKey","title","author","username","onClick","console","log","data-toggle","data-placement","aria-disabled","disabled","Collapse","Body","url","likes","Notification","message","error","Alert","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","update","id","put","remove","delete","setToken","newToken","Togglable","props","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","style","buttonLabel","in","children","displayName","BlogForm","updateBlogs","setErrorMessage","blogTitle","setBlogTitle","blogAuthor","setBlogAuthor","blogURL","setBlogURL","createBlog","event","preventDefault","blogObject","blogService","returnedBlog","setTimeout","onSubmit","type","value","name","onChange","target","login","credentials","LoginForm","updateUser","setUsername","password","setPassword","handleLogin","loginService","window","localStorage","setItem","JSON","stringify","maxWidth","margin","placeholder","required","autoFocus","App","blogs","setBlogs","setUser","errorMessage","successMessage","setSuccessMessage","dropDownValue","setdropDownValue","sort","setSort","useEffect","loggedUserJSON","getItem","parse","toggleSwitch","document","querySelector","currentTheme","documentElement","setAttribute","checked","updateBlogLikes","updatedblog","map","b","confirm","filter","e","switchTheme","removeItem","Toggleable","concat","DropdownButton","Dropdown","Item","setSortLikes","textContent","setSortTitle","setSortAuthor","index","key","sortMethod","sortByLikes","localeCompare","sortByTitle","sortByAuthor","displayBlogs","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.303f6c3e.chunk.js","sourcesContent":["import React from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Accordion from 'react-bootstrap/Accordion'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst Blog = ({ num, blog, addLike, removeBlog, user }) => {\r\n\r\n  const removeButton = () => {\r\n    if (blog.user.username === user.username) {\r\n      return (\r\n        <div>\r\n          <button className='btn btn-danger btn-sm py-0 mt-3' onClick={removeBlog}>remove</button>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      console.log('not same user')\r\n      return (\r\n        <div>\r\n          <button\r\n            className='btn btn-danger btn-sm py-0 mt-3'\r\n            data-toggle=\"tooltip\"\r\n            data-placement=\"right\"\r\n            title=\"User did not create this note\"\r\n            aria-disabled='true'\r\n            disabled>\r\n            remove\r\n          </button>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Accordion className='mb-1'>\r\n      <Card>\r\n        <Card.Header>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-11\">\r\n              <Accordion.Toggle as={Button} variant=\"link\" eventKey={num}>\r\n                {blog.title} by {blog.author}\r\n              </Accordion.Toggle>\r\n            </div>\r\n            <div className=\"col-md-1 float-right\">\r\n              {removeButton()}\r\n            </div>\r\n          </div>\r\n        </Card.Header>\r\n        <Accordion.Collapse eventKey={num}>\r\n          <Card.Body>\r\n            <div><strong>Title: </strong> {blog.title}</div>\r\n            <div><strong>Author: </strong> {blog.author}</div>\r\n            <div> <strong>URL: </strong> {blog.url}</div>\r\n            <div>\r\n              <strong>Likes: </strong>{blog.likes} <br/>\r\n              <button className='btn btn-sm py-0 btn-primary' onClick={addLike}>Like!</button>\r\n            </div>\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>\r\n    </Accordion>\r\n  )\r\n}\r\n\r\nexport default Blog\r\n","import React from 'react'\nimport Alert from 'react-bootstrap/Alert'\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <Alert  variant={`${error ? 'danger' : 'success'} alert ml-3`}>\n      {message}\n    </Alert>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = async id => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\n\nexport default { getAll, create, update, remove, setToken }","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport Collapse from 'react-bootstrap/Collapse'\nimport Button from 'react-bootstrap/Button'\n\nconst Togglable = props => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button className='btn btn-outline-primary' onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible}>\n        <Collapse in={visible}>\n          <div>\n            {props.children}\n            <Button className='btn btn-danger ml-3' onClick={toggleVisibility}>cancel</Button>\n          </div>\n        </Collapse>\n\n      </div>\n    </div>\n  )\n}\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nTogglable.displayName = 'Togglable'\n\nexport default Togglable","import React, { useState } from 'react'\nimport blogService from '../services/blogs'\nimport PropTypes from 'prop-types'\n\nconst BlogForm = ({ updateBlogs, setErrorMessage }) => {\n  const [blogTitle, setBlogTitle] = useState('')\n  const [blogAuthor, setBlogAuthor] = useState('')\n  const [blogURL, setBlogURL] = useState('')\n\n  const createBlog = async (event) => {\n    event.preventDefault()\n    try {\n      const blogObject = {\n        title: blogTitle,\n        author: blogAuthor,\n        url: blogURL\n      }\n\n      const returnedBlog = await blogService.create(blogObject)\n      updateBlogs(returnedBlog)\n      setBlogTitle('')\n      setBlogAuthor('')\n      setBlogURL('')\n    } catch (exception) {\n      setErrorMessage(\n        'Failed to add new blog'\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      console.log('Failed to create blog')\n    }\n  }\n\n\n  return (\n    <div className='mx-3'>\n      <h3>Add New Blog</h3>\n      <form onSubmit={createBlog}>\n        <div>\n          Title:\n          <input\n            className='form-control'\n            type=\"text\"\n            value={blogTitle}\n            name=\"Title\"\n            onChange={({ target }) => setBlogTitle(target.value)}\n          />\n        </div>\n        <div>\n          Author:\n          <input\n            className='form-control'\n            type=\"text\"\n            value={blogAuthor}\n            name=\"Author\"\n            onChange={({ target }) => setBlogAuthor(target.value)}\n          />\n        </div>\n        <div>\n          URL:\n          <input\n            className='form-control'\n            type=\"text\"\n            value={blogURL}\n            name=\"URL\"\n            onChange={({ target }) => setBlogURL(target.value)}\n          />\n        </div>\n        <button className='btn btn-primary' type=\"submit\">add</button>\n      </form>\n    </div>\n  )\n}\n\nBlogForm.propTypes = {\n  updateBlogs: PropTypes.func.isRequired,\n  setErrorMessage: PropTypes.func.isRequired,\n}\n\n\nexport default BlogForm","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React, { useState } from 'react'\nimport loginService from '../services/login'\n\nconst LoginForm = ({ updateUser, setErrorMessage }) => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password\n      })\n\n      window.localStorage.setItem(\n        'loggedNoteappUser', JSON.stringify(user)\n      )\n      updateUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage(\n        'Wrong credentials'\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      console.log('Wrong credentials')\n    }\n  }\n\n  return (\n    <div className='text-center'>\n      <h1 className='mt-5 mb-3'>Please sign in</h1>\n      <form style={{maxWidth : '480px', margin : 'auto'}} onSubmit={handleLogin}>\n        <input\n          type=\"text\"\n          className=\"form-control mb-2\"\n          placeholder='Username'\n          value={username}\n          name=\"Username\"\n          required autoFocus\n          onChange={({ target }) => setUsername(target.value)}\n        />\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          placeholder='Password'\n          value={password}\n          name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)}\n        />\n        <div className='mt-3'>\n          <button className='btn btn-lg btn-block btn-primary' type=\"submit\">Sign In</button>\n        </div>\n\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm","import React, { useState, useEffect } from 'react'\nimport Blog from './components/Blog'\nimport Notification from './components/Notification'\nimport blogService from './services/blogs'\nimport Toggleable from './components/Toggleable'\nimport BlogForm from './components/BlogForm'\nimport LoginForm from './components/LoginForm'\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport DropdownButton from 'react-bootstrap/DropdownButton'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [user, setUser] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [dropDownValue, setdropDownValue] = useState('Sort By')\n  const [sort, setSort] = useState(null)\n\n  useEffect(() => {\n    blogService.getAll().then(blogs =>\n      setBlogs( blogs )\n    )\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n\n    const toggleSwitch = document.querySelector('.theme-switch input[type=\"checkbox\"]')\n    const currentTheme = localStorage.getItem('theme')\n\n    if (currentTheme) {\n      document.documentElement.setAttribute('data-theme', currentTheme)\n      if (currentTheme === 'dark') {\n        toggleSwitch.checked = true\n      }\n    }\n  }, [])\n\n  const updateUser = async (user) => {\n    blogService.setToken(user.token)\n    setUser(user)\n  }\n\n  const handleLogout = () => {\n    setUser(null)\n    blogService.setToken(null)\n    window.localStorage.removeItem('loggedNoteappUser')\n  }\n\n  const updateBlogs = (returnedBlog) => {\n    setBlogs(blogs.concat(returnedBlog))\n    setSuccessMessage(\n      `A new blog: ${returnedBlog.title} has been added`\n    )\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n  }\n\n  const updateBlogLikes = (blog) => {\n    const updatedblog = { ...blog, likes: blog.likes+1 }\n\n    blogService\n      .update(blog.id, updatedblog)\n      .then(returnedBlog => {\n        setBlogs(blogs.map(b => b.id !== returnedBlog.id ? b : returnedBlog))\n      })\n  }\n\n  const removeBlog = (blog) => {\n    if (window.confirm(`Remove blog ${blog.title} by ${blog.author}`)) {\n      blogService\n        .remove(blog.id)\n        .then(() => {\n          setBlogs(blogs.filter(b => b.id !== blog.id))\n        })\n    }\n  }\n\n  const setSortLikes = (e) => {\n    setdropDownValue(e)\n    setSort('likes')\n  }\n\n  const sortByLikes = ((a, b) => (a.likes < b.likes ? 1 : -1 ))\n\n  const setSortTitle = (e) => {\n    setdropDownValue(e)\n    setSort('title')\n  }\n\n  const sortByTitle = ((a, b) =>  a.title.localeCompare(b.title))\n\n  const setSortAuthor = (e) => {\n    setdropDownValue(e)\n    setSort('author')\n  }\n\n  const sortByAuthor= ((a, b) => a.author.localeCompare(b.author))\n\n  const loginForm = () => (\n    <LoginForm updateUser={updateUser} setErrorMessage={setErrorMessage}/>\n  )\n\n  const displayBlogs = () => {\n    if (sort === null) {\n      return (\n        blogs.map((blog, index) =>\n          <Blog\n            num={index+1}\n            key={blog.id}\n            blog={blog}\n            addLike={() => updateBlogLikes(blog)}\n            removeBlog={() => removeBlog(blog)}\n            user={user}\n          />\n        )\n      )\n    } else {\n      let sortMethod\n      switch(sort) {\n      case 'likes':\n        sortMethod = (a,b) => sortByLikes(a,b)\n        break\n\n      case 'title':\n        sortMethod = (a,b) => sortByTitle(a,b)\n        break\n\n      case 'author':\n        sortMethod = (a,b) => sortByAuthor(a,b)\n        break\n\n      default:\n        break\n      }\n\n      return (\n        blogs\n          .sort(sortMethod)\n          .map((blog, index) =>\n            <Blog\n              num={index+1}\n              key={blog.id}\n              blog={blog}\n              addLike={() => updateBlogLikes(blog)}\n              removeBlog={() => removeBlog(blog)}\n              user={user}\n            />\n          )\n      )\n    }\n  }\n\n  const switchTheme = (e) => {\n    if (e.target.checked) {\n      document.documentElement.setAttribute('data-theme', 'dark');\n      localStorage.setItem('theme', 'dark');\n    }\n    else {\n      document.documentElement.setAttribute('data-theme', 'light');\n      localStorage.setItem('theme', 'light');\n    }\n  }\n\n  return (\n    <div className='container'>\n      <Notification message={errorMessage} error={true}/>\n      <Notification message={successMessage} error={false}/>\n\n      <div className=\"theme-switch-wrapper float-right\">\n        <label className=\"theme-switch\">\n          <input type=\"checkbox\" id=\"checkbox\" onClick={(e) => switchTheme(e)} />\n          <div className=\"slider round\"></div>\n        </label>\n        <em></em>\n      </div>\n\n\n      {user === null ?\n        loginForm() :\n        <div>\n          <div className='mt-5'>\n            <h1 className='text-center'>blogs</h1>\n            <button className='btn btn-outline-danger float-right' onClick={() => handleLogout()}>logout</button>\n          </div>\n\n          <h2> Welcome {user.name} </h2>\n          <div className='mt-5'>\n            <Toggleable buttonLabel='Add New Blog'>\n              <BlogForm updateBlogs={updateBlogs} setErrorMessage={setErrorMessage}/>\n            </Toggleable>\n          </div>\n          <div className='mt-5'>\n            <div>\n              <h2>\n                bloglist\n                <DropdownButton title={dropDownValue} className=\"format float-right\">\n                  <Dropdown.Item as=\"button\"><div onClick={(e) => setSortLikes(e.target.textContent)}>Likes</div></Dropdown.Item>\n                  <Dropdown.Item as=\"button\"><div onClick={(e) => setSortTitle(e.target.textContent)}>Title</div></Dropdown.Item>\n                  <Dropdown.Item as=\"button\"><div onClick={(e) => setSortAuthor(e.target.textContent)}>Author</div></Dropdown.Item>\n                </DropdownButton>\n              </h2>\n            </div>\n\n            <div className='mt-4'>\n              {displayBlogs()}\n            </div>\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}